System.register("chunks:///_virtual/CameraController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts"],(function(e){var t,r,n,a,o,i,s,l,c,f,u,m,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,s=e.Camera,l=e.Vec3,c=e.find,f=e.tween,u=e.Quat,m=e.misc,g=e.Component},function(e){d=e.Manager}],execute:function(){var h,p,v,O,C,b,y,w,M,x,z;o._RF.push({},"a2affnDSsVM8rMOgHqR48gM","CameraController",void 0);var I=i.ccclass,P=i.property;e("CameraController",(h=I("CameraController"),p=P(s),v=P(l),O=P(l),C=P(s),h((w=t((y=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"mainCamera",w,a(t)),n(t,"originalOffset",M,a(t)),n(t,"currentOffset",x,a(t)),n(t,"camera",z,a(t)),t.smoothZoomIntervals=.42,t.originalOffsetFactor=void 0,t}r(t,e);var o=t.prototype;return o.onLoad=function(){this.camera=c("Main Camera").getComponent(s),this.originalOffset=new l(0,0,2),this.camera.near=.01,this.originalOffsetFactor=this.originalOffset.length()/this.originalOffset.clone().normalize().length()},o.focusOn=function(e){this.recordCurrentOffset();var t=e.getWorldPosition(),r=this.currentOffset.clone().normalize().multiplyScalar(this.originalOffsetFactor);f(this.camera.node).to(this.smoothZoomIntervals,{worldPosition:t.clone().add(r)},{easing:"smooth"}).start()},o.rotateOnVertex=function(e,t,r,n){void 0===n&&(n=l.UP);var a=new u,o=new l,i=new l;l.subtract(o,e,t);var s=m.degreesToRadians(r);return u.fromAxisAngle(a,n,s),l.transformQuat(i,o,a),l.add(i,t,i),i},o.resetPosition=function(){this.camera.node.position=d.Instance().vertexManager.rootNode.position.clone().add(this.originalOffset),this.camera.node.rotation=u.identity(new u)},o.recordCurrentOffset=function(){this.currentOffset=d.Instance().canvasManager.cameraRotateOffset.clone().subtract(d.Instance().vertexManager.currentCentralNode.getWorldPosition()),d.Instance().vertexManager.currentCentralNode=d.Instance().vertexManager.chosenVertex},t}(g)).prototype,"mainCamera",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(y.prototype,"originalOffset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(y.prototype,"currentOffset",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(y.prototype,"camera",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/CanvasManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Vertex.ts","./Manager.ts","./Edge.ts"],(function(e){var n,t,o,a,r,s,c,i,l,d,u,g,M,h,I,v,m,p,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,c=e.Node,i=e.Vec3,l=e.Quat,d=e.input,u=e.Input,g=e.EventMouse,M=e.math,h=e.geometry,I=e.PhysicsSystem,v=e.Component},function(e){m=e.Vertex},function(e){p=e.Manager},function(e){C=e.Edge}],execute:function(){var x,f,E,y,T;r._RF.push({},"1cdbbzCsxlESbYpc8iq+sVE","CanvasManager",void 0);var V=s.ccclass,N=s.property;e("CanvasManager",(x=V("CanvasManager"),f=N({type:c}),x((T=n((y=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n=e.call.apply(e,[this].concat(r))||this,o(n,"centralVertex",T,a(n)),n.leftClickCount=0,n.lastClickTime=0,n.doubleClickDelay=.3,n._zoomSpeed=9e-5,n.cameraMove=!1,n.cameraRotateAroundVertex=!1,n.cameraRotateOffset=new i,n.previousMousePosition=null,n.previousMousePositionVec3=new i,n.dragMoveSpeed=.01,n.dragRotateSpeed=.2,n.dragRotationQuat=new l,n.dragRotateEuler=new i,n}t(n,e);var r=n.prototype;return r.onLoad=function(){d.on(u.EventType.MOUSE_DOWN,this.onMouseDown,this),d.on(u.EventType.MOUSE_UP,this.onMouseUp,this),d.on(u.EventType.MOUSE_MOVE,this.onMouseMove,this),d.on(u.EventType.MOUSE_WHEEL,this.onMouseWheel,this)},r.start=function(){this.resetCanvas()},r.onMouseMove=function(e){if(this.cameraMove){var n=e.getDeltaX(),t=e.getDeltaY(),o=new i(p.Instance().cameraController.camera.node.position.x-n*this.dragMoveSpeed,p.Instance().cameraController.camera.node.position.y-t*this.dragMoveSpeed,p.Instance().cameraController.camera.node.position.z);p.Instance().cameraController.camera.node.position=o}else if(this.cameraRotateAroundVertex){var a=e.getLocation(),r=(a.x-this.previousMousePosition.x)*this.dragRotateSpeed/100*80,s=(a.y-this.previousMousePosition.y)*this.dragRotateSpeed/100*80,c=p.Instance().cameraController.camera.node.worldPosition.clone(),l=p.Instance().vertexManager.currentCentralNode.worldPosition.clone(),d=p.Instance().cameraController.rotateOnVertex(c,l,r,i.UP),u=p.Instance().cameraController.rotateOnVertex(d,l,s,i.RIGHT);p.Instance().cameraController.camera.node.worldPosition=u,this.cameraRotateOffset=u,p.Instance().cameraController.camera.node.lookAt(l),this.previousMousePosition=a}},r.onMouseDown=function(e){e.getButton()===g.BUTTON_RIGHT&&this.chooseVertexOrEdgeAtMouse(e),e.getButton()===g.BUTTON_MIDDLE?(this.cameraMove=!0,this.previousMousePosition=e.getLocation()):e.getButton()===g.BUTTON_LEFT&&(this.chooseVertexOrEdgeAtMouse(e),this.cameraRotateAroundVertex=!0,this.previousMousePositionVec3.set(e.getLocationX(),e.getLocationY(),0),this.previousMousePosition=e.getLocation())},r.onMouseUp=function(e){p.Instance().UIManager.tagOrderChoiceBar.node.active=!1,e.getButton()===g.BUTTON_MIDDLE?this.cameraMove=!1:e.getButton()===g.BUTTON_LEFT&&((p.Instance().UIManager.dropDownBarLayout.node.active=!0)&&(p.Instance().UIManager.dropDownBarLayout.node.active=!1),this.cameraRotateAroundVertex=!1)},r.onMouseWheel=function(e){var n=e.getScrollY(),t=new i;M.Vec3.scaleAndAdd(t,p.Instance().cameraController.camera.node.position,p.Instance().cameraController.camera.node.forward,this._zoomSpeed*n),p.Instance().cameraController.camera.node.position=t},r.onDestroy=function(){d.off(u.EventType.MOUSE_WHEEL,this.onMouseWheel,this),d.off(u.EventType.MOUSE_MOVE,this.onMouseMove,this)},r.createVertexAtMouse=function(e){var n=new h.Ray;if(p.Instance().cameraController.camera.screenPointToRay(e.getLocationX(),e.getLocationY(),n),I.instance.raycastClosest(n)){var t=I.instance.raycastClosestResult;if(t.collider.node.getComponent(m)){var o=p.Instance().vertexManager.createNodeAround(t.collider.node);p.Instance().edgeManager.createEdgeWithStartAndEnd(t.collider.node,o)}}},r.chooseVertexOrEdgeAtMouse=function(e){var n=new h.Ray;if(p.Instance().cameraController.camera.screenPointToRay(e.getLocationX(),e.getLocationY(),n),I.instance.raycastClosest(n)){var t=I.instance.raycastClosestResult;t.collider.node.getComponent(m)?(p.Instance().edgeManager.returnFocusToNormalEdge(),0==this.leftClickCount?(this.leftClickCount++,this.centralVertex=t.collider.node,p.Instance().vertexManager.returnFocusToNormalVertex(),p.Instance().vertexManager.chosenVertex=t.collider.node,p.Instance().vertexManager.chooseOneNormalVertexToFocus(t.collider.node)):1==this.leftClickCount&&p.Instance().vertexManager.chosenVertex==t.collider.node?(p.Instance().cameraController.focusOn(t.collider.node),this.leftClickCount=0):1==this.leftClickCount&&p.Instance().vertexManager.chosenVertex!=t.collider.node?(this.centralVertex=t.collider.node,p.Instance().vertexManager.returnFocusToNormalVertex(),p.Instance().vertexManager.chosenVertex=t.collider.node,p.Instance().vertexManager.chooseOneNormalVertexToFocus(t.collider.node)):(this.leftClickCount=0,p.Instance().vertexManager.returnFocusToNormalVertex()),t.collider.node.getComponent(m).showVertexDetails()):t.collider.node.getComponent(C)&&(p.Instance().vertexManager.returnFocusToNormalVertex(),p.Instance().edgeManager.returnFocusToNormalEdge(),p.Instance().edgeManager.chosenEdgeNode=t.collider.node,p.Instance().edgeManager.chooseNormalEdge(t.collider.node),p.Instance().edgeManager.chosenEdgeNode.getComponent(C).showEdgeDetails())}else this.leftClickCount=0,p.Instance().edgeManager.returnFocusToNormalEdge()},r.cleanCanvas=function(){p.Instance().vertexManager.destroyAllChildren(),p.Instance().vertexManager.returnFocusToNormalVertex(),p.Instance().edgeManager.destroyAllEdges(),p.Instance().edgeManager.returnFocusToNormalEdge(),p.Instance().cameraController.resetPosition(),p.Instance().UIManager.isNodeInfoEnable=!1,p.Instance().UIManager.nodeInfoBar.active=!1,p.Instance().layoutManager.clearTags()},r.resetCanvas=function(){p.Instance().vertexManager.destroyAllChildren(),p.Instance().vertexManager.initiateOriginalVertex(),p.Instance().vertexManager.returnFocusToNormalVertex(),p.Instance().edgeManager.destroyAllEdges(),p.Instance().edgeManager.returnFocusToNormalEdge(),p.Instance().cameraController.resetPosition(),p.Instance().UIManager.isNodeInfoEnable=!1,p.Instance().UIManager.nodeInfoBar.active=!1,p.Instance().layoutManager.clearTags()},n}(v)).prototype,"centralVertex",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=y))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/Constant.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,r=t.Component}],execute:function(){var s;o._RF.push({},"aa7e8R1GpBBuoxZqj5CrMGh","Constant",void 0);var c=e.ccclass;e.property,t("Constant",c("Constant")(s=function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o}(r))||s),t("PHY_GROUP",{DEFAULT:1,MOUSE:2,EDGE:4,VERTEX:8});o._RF.pop()}}}));

System.register("chunks:///_virtual/CustomEventListener.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,r,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,a=t.Component}],execute:function(){var i,s;e._RF.push({},"3c4a5vwDyNPa5zZ+6LPEjSG","CustomEventListener",void 0);var o=r.ccclass;r.property,t("CustomEventListener",o("CustomEventListener")(((s=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.on=function(t,n,e){this.handle[t]||(this.handle[t]=[]);var r={func:n,target:e};this.handle[t].push(r)},e.off=function(t,n,e){var r=this.handle[t];if(r&&!(r.length<=0))for(var a=0;a<r.length;a++){var i=r[a];if(i.func===n&&(!e||e===i.target)){r.splice(a,1);break}}},e.dispatchEvent=function(t){var n=this.handle[t];if(n&&!(n.length<=0)){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];for(var i=0;i<n.length;i++){var s=n[i];s.func.apply(s.target,r)}}},e}(a)).handle={},i=s))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/Dictionary.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,n,o,c;return{setters:[function(r){t=r.inheritsLoose},function(r){n=r.cclegacy,o=r._decorator,c=r.Component}],execute:function(){var e;n._RF.push({},"12345B80ydF9LhK9CZ0hw/g","Dictionary",void 0);var i=o.ccclass;o.property,r("Dictionary",i("Dictionary")(e=function(r){function n(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=r.call.apply(r,[this].concat(o))||this).key="",t.value=void 0,t}return t(n,r),n}(c))||e);n._RF.pop()}}}));

System.register("chunks:///_virtual/Edge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./Vertex.ts"],(function(e){var t,n,r,i,a,o,s,c,d,l,u,g,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.CCString,c=e.CCInteger,d=e.Vec3,l=e.math,u=e.MeshRenderer,g=e.Component},function(e){h=e.Manager},function(e){p=e.Vertex}],execute:function(){var I,f,D,b,v,x,m,y,w,M,E,V,z,C,N,R,P,S,O,T,U,k,L;a._RF.push({},"8947fvabLNHoKqGTdc7fFIu","Edge",void 0);var j=o.ccclass,A=o.property;e("Edge",(I=j("Edge"),f=A(p),D=A(p),b=A(s),v=A(s),x=A(s),m=A(s),y=A(Object),w=A(c),M=A(s),E=A(Boolean),I((C=t((z=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"startVertex",C,i(t)),r(t,"endVertex",N,i(t)),r(t,"edgeName",R,i(t)),r(t,"edgeID",P,i(t)),r(t,"srcID",S,i(t)),r(t,"dstID",O,i(t)),r(t,"properties",T,i(t)),r(t,"rank",U,i(t)),r(t,"type",k,i(t)),r(t,"isLayouted",L,i(t)),t}n(t,e);var a=t.prototype;return a.createEdgeWithStartAndEnd=function(e,t){this.startVertex=e.getComponent(p),this.endVertex=t.getComponent(p);var n=e.worldPosition,r=t.worldPosition,i=n.clone().add(r).multiplyScalar(.5);this.node.setWorldPosition(i);var a=d.distance(n,r)/2;this.node.setScale(.002,a,.002);var o=d.subtract(new d,r,n).normalize(),s=new d(0,1,0),c=new l.Quat;l.Quat.rotationTo(c,s,o),this.node.setRotation(c),this.srcID=this.startVertex.getVertexID(),this.dstID=this.endVertex.getVertexID()},a.resetPosition=function(e,t){var n=e.worldPosition,r=t.worldPosition,i=n.clone().add(r).multiplyScalar(.5);this.node.setWorldPosition(i);var a=d.distance(n,r)/2;this.node.setScale(.002,a,.002);var o=d.subtract(new d,r,n).normalize(),s=new d(0,1,0),c=new l.Quat;l.Quat.rotationTo(c,s,o),this.node.setRotation(c)},a.addAllThisVertexEdgeInfoOnEdge=function(){null==h.Instance().vertexManager.vertexEdgeDic[this.srcID]&&(h.Instance().vertexManager.vertexEdgeDic[this.srcID]=[]),null==h.Instance().vertexManager.vertexEdgeDic[this.dstID]&&(h.Instance().vertexManager.vertexEdgeDic[this.dstID]=[]),this.startVertex.addEdgeInfoOnVertex(this),this.endVertex.addEdgeInfoOnVertex(this),h.Instance().edgeManager.edgeVertexDic[this.edgeID]=[this.srcID,this.dstID]},a.getEdgeID=function(){return this.edgeID},a.changeEdgeMaterialToFocused=function(){var e=this.getComponent(u).getMaterial(1);this.node.getComponent(u).setMaterial(e,0)},a.returnToInitialMaterial=function(){var e=this.getComponent(u).getMaterial(2);this.getComponent(u).setMaterial(e,0)},a.setAttribute=function(e){for(var t in e)this.hasOwnProperty(t)&&(this[t]=e[t]);this.edgeID=this.srcID+" "+this.edgeName+" "+this.dstID,h.Instance().relationManager.setEdgeID(this.edgeID)},a.showEdgeDetails=function(){h.Instance().UIManager.setRichInfo("Edge name:"+this.edgeName),h.Instance().UIManager.setRichInfo("Edge ID:"+this.edgeID),h.Instance().UIManager.addRichInfo("src vectex ID:"+this.srcID),h.Instance().UIManager.addRichInfo("dst vectex ID:"+this.dstID),this.printNestedJSON(this.properties,"properties"),h.Instance().UIManager.addRichInfo("rank:"+this.rank)},a.printNestedJSON=function(e,t){for(var n in void 0===t&&(t=""),e){var r=t?t+"."+n:n;"object"==typeof e[n]&&null!==e[n]?this.printNestedJSON(e[n],r):h.Instance().UIManager.addRichInfo(n+": "+this.properties[n])}},t}(g)).prototype,"startVertex",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(z.prototype,"endVertex",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(z.prototype,"edgeName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=t(z.prototype,"edgeID",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=t(z.prototype,"srcID",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=t(z.prototype,"dstID",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=t(z.prototype,"properties",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Object}}),U=t(z.prototype,"rank",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=t(z.prototype,"type",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"edge"}}),L=t(z.prototype,"isLayouted",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=z))||V));a._RF.pop()}}}));

System.register("chunks:///_virtual/EdgeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Edge.ts","./Manager.ts"],(function(e){var n,t,r,o,a,i,d,c,l,s,g,u,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,d=e._decorator,c=e.Prefab,l=e.Node,s=e.instantiate,g=e.Component},function(e){u=e.Edge},function(e){p=e.Manager}],execute:function(){var f,h,E,y,b,m,v;i._RF.push({},"ef4a0WupzVBIoR6Rk8D+WtT","EdgeManager",void 0);var M=d.ccclass,I=d.property;e("EdgeManager",(f=M("EdgeManager"),h=I({type:c}),E=I(l),f((m=n((b=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,r(n,"edgePrefab",m,o(n)),r(n,"chosenEdgeNode",v,o(n)),n.edgeVertexDic={},n}t(n,e);var i=n.prototype;return i.createEdgeWithStartAndEnd=function(e,n){var t=s(this.edgePrefab);return t.setParent(p.Instance().edgeManager.node),t.getComponent(u).createEdgeWithStartAndEnd(e,n),t},i.chooseNormalEdge=function(e){e.getComponent(u).changeEdgeMaterialToFocused()},i.returnFocusToNormalEdge=function(){this.chosenEdgeNode&&(this.chosenEdgeNode.getComponent(u).returnToInitialMaterial(),this.chosenEdgeNode=null,p.Instance().UIManager.cleanAndDisableInfoBar())},i.removeLayoutFlags=function(){for(var e,n=a(this.node.children);!(e=n()).done;){e.value.getComponent(u).isLayouted=!1}},i.destroyAllEdges=function(){this.node.destroyAllChildren(),this.node.removeAllChildren()},n}(g)).prototype,"edgePrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(b.prototype,"chosenEdgeNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=b))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/Graphplayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts"],(function(e){var n,r,a,t,c;return{setters:[function(e){n=e.inheritsLoose},function(e){r=e.cclegacy,a=e._decorator,t=e.Component},function(e){c=e.Manager}],execute:function(){var o;r._RF.push({},"e4a37NGqIRNe768XzXHkIsC","Graphplayer",void 0);var s=a.ccclass;a.property,e("Graphplayer",s("Graphplayer")(o=function(e){function r(){return e.apply(this,arguments)||this}n(r,e);var a=r.prototype;return a.start=function(){},a.buildByURL=function(e){c.Instance().canvasManager.cleanCanvas(),c.Instance().JSONReader.createByURL(e)},a.buildByJSONString=function(e){c.Instance().JSONReader.createdByJSON(e)},r}(t))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/HttpRequest.ts",["cc"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy,n=t._decorator}],execute:function(){var s;e._RF.push({},"e759e3CSApAiZCGXPIsGUgI","HttpRequest",void 0);var r=n.ccclass;n.property,t("HttpRequest",r("HttpRequest")(s=function(){function t(){}return t.send=function(t,e){return new Promise((function(n,s){var r=new XMLHttpRequest;r.open("POST",t,!0),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.onreadystatechange=function(){4===r.readyState&&(200===r.status?n(JSON.parse(r.responseText)):s(new Error(r.statusText)))},r.send(JSON.stringify(e))}))},t}())||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/JSONReader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableData.ts","./Manager.ts","./Vertex.ts","./Edge.ts"],(function(e){var t,n,a,r,o,g,i,s,c,d,l,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,g=e._decorator,i=e.resources,s=e.error,c=e.Component},function(e){d=e.TableData},function(e){l=e.Manager},function(e){p=e.Vertex},function(e){u=e.Edge}],execute:function(){var x,I,m,f,v;o._RF.push({},"d0f40JGByFFNIZs6yI6cbIt","JSONReader",void 0);var C=g.ccclass,V=g.property;e("JSONReader",(x=C("JSONReader"),I=V({type:[d]}),x((v=t((f=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),g=0;g<n;g++)o[g]=arguments[g];return t=e.call.apply(e,[this].concat(o))||this,a(t,"tableDataArray",v,r(t)),t}n(t,e);var o=t.prototype;return o.putJSONtoModel=function(e){var t=this,n="Response/"+e;this.loadJson(n,(function(e){t.transTabletoVertexAndEdge(e)}))},o.loadJson=function(e,t){i.load(e,(function(e,n){if(e)s(e.message||e);else{var a=n.json.data[0].data.tables;t(a)}}))},o.getCookie=function(e){var t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return decodeURIComponent(t.pop().split(";").shift())},o.createByURL=function(e){var t=this;fetch(e).then((function(e){return console.log(e),e.json()})).then((function(e){var n=e.data[0].data.tables;t.transTabletoVertexAndEdge(n)})).catch((function(e){return console.error("Fetch error:",e)}))},o.createdByJSON=function(e){var t=e.data[0].data.tables;this.transTabletoVertexAndEdge(t)},o.transTabletoVertexAndEdge=function(e){for(var t=0;t<e.length;t++){var n=e[t]._edgesParsedList,a=e[t]._verticesParsedList,r=n[0],o=a[0],g=a[1],i=null,s=null,c=null,d=l.Instance().relationManager.existVertex(o.vid),x=l.Instance().relationManager.existVertex(g.vid);l.Instance().relationManager.existEdge(o.vid+" "+r.edgeName+" "+g.vid)||(d||x?d&&!x?(i=l.Instance().vertexManager.getVertexNodeByVID(o.vid),(s=l.Instance().vertexManager.createNodeAround(i)).getComponent(p).setAttribute(g),(c=l.Instance().edgeManager.createEdgeWithStartAndEnd(i,s)).getComponent(u).setAttribute(r),c.getComponent(u).addAllThisVertexEdgeInfoOnEdge(),i.getComponent(p).increaseVertexDegree(),s.getComponent(p).increaseVertexDegree(),l.Instance().relationManager.increaseTagDegree(i.getComponent(p)),l.Instance().relationManager.increaseTagDegree(s.getComponent(p))):!d&&x?(s=l.Instance().vertexManager.getVertexNodeByVID(g.vid),(i=l.Instance().vertexManager.createNodeAround(s)).getComponent(p).setAttribute(o),(c=l.Instance().edgeManager.createEdgeWithStartAndEnd(i,s)).getComponent(u).setAttribute(r),c.getComponent(u).addAllThisVertexEdgeInfoOnEdge(),i.getComponent(p).increaseVertexDegree(),s.getComponent(p).increaseVertexDegree(),l.Instance().relationManager.increaseTagDegree(i.getComponent(p)),l.Instance().relationManager.increaseTagDegree(s.getComponent(p))):d&&x&&(i=l.Instance().vertexManager.getVertexNodeByVID(o.vid),s=l.Instance().vertexManager.getVertexNodeByVID(g.vid),(c=l.Instance().edgeManager.createEdgeWithStartAndEnd(i,s)).getComponent(u).setAttribute(r),c.getComponent(u).addAllThisVertexEdgeInfoOnEdge(),i.getComponent(p).increaseVertexDegree(),s.getComponent(p).increaseVertexDegree(),l.Instance().relationManager.increaseTagDegree(i.getComponent(p)),l.Instance().relationManager.increaseTagDegree(s.getComponent(p))):((i=l.Instance().vertexManager.createStartNode()).getComponent(p).setAttribute(o),(s=l.Instance().vertexManager.createNodeAround(i)).getComponent(p).setAttribute(g),(c=l.Instance().edgeManager.createEdgeWithStartAndEnd(i,s)).getComponent(u).setAttribute(r),c.getComponent(u).addAllThisVertexEdgeInfoOnEdge(),i.getComponent(p).increaseVertexDegree(),s.getComponent(p).increaseVertexDegree(),l.Instance().relationManager.increaseTagDegree(i.getComponent(p)),l.Instance().relationManager.increaseTagDegree(s.getComponent(p))))}},t}(c)).prototype,"tableDataArray",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./Vertex.ts"],(function(e){var t,a,n,r,o,s,i,g,d,u;return{setters:[function(e){t=e.inheritsLoose,a=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,r=e._decorator,o=e.Node,s=e.Vec3,i=e.Quat,g=e.Component},function(e){d=e.Manager},function(e){u=e.Vertex}],execute:function(){var l;n._RF.push({},"c3f93R006pM9qEAv7eETg1V","LayoutManager",void 0);var c=r.ccclass;r.property,e("LayoutManager",c("LayoutManager")(l=function(e){function n(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).tagsNodeList=[],t.centerToTag0Radius=3,t.tagsNodeRadius=1.5,t.nodesLayerRadiusInterval=1*Math.PI/12,t}t(n,e);var r=n.prototype;return r.classifyNodeByTag=function(){var e=0;try{for(var t,n=a(d.Instance().vertexManager.vertexTagSet);!(t=n()).done;){var r=t.value;if(!d.Instance().vertexManager.rootNode.getChildByName(r)){var s=new o(r);s.parent=d.Instance().vertexManager.rootNode,s.name=r,this.tagsNodeList.push(s)}}for(;d.Instance().vertexManager.rootNode.children.length>this.tagsNodeList.length;){var i=d.Instance().vertexManager.rootNode.children[e];if(null!=i.getComponent(u)){var g=i.getComponent(u).tags[0];i.setParent(d.Instance().vertexManager.rootNode.getChildByName(g))}else e++}}catch(e){console.log(e)}this.nodesLayerRadiusInterval=Math.PI/2/this.tagsNodeList.length},r.adjustOrderOfTags=function(e){this.tagsNodeList=[],console.log("order by,",e);for(var t,n=a(e);!(t=n()).done;){var r=t.value;this.tagsNodeList.push(d.Instance().vertexManager.rootNode.getChildByName(r))}},r.reLayoutByTags=function(){for(var e=d.Instance().vertexManager.rootNode.worldPosition,t=this.tagsNodeList[0].children,n=2*Math.PI/t.length,r=0;r<t.length;r++){var o=r*n,s=e.x+this.centerToTag0Radius*Math.cos(o),i=e.y,g=e.z+this.centerToTag0Radius*Math.sin(o);t[r].setWorldPosition(s,i,g),t[r].getComponent(u).isLayouted=!0}for(var l,c=a(t);!(l=c()).done;){var v=l.value;this.updateEndVertexAndEdge(v)}},r.updateEndVertexAndEdge=function(e){for(var t,n=e.getComponent(u).edgesSetOfVertex.length,r=!0,o=a(e.getComponent(u).edgesSetOfVertex);!(t=o()).done;){0==t.value.isLayouted&&(r=!1)}if(!r){var g=e.worldPosition,d=new s;s.cross(d,s.subtract(new s,g,s.ZERO),s.UP),s.normalize(d,d);var l=new s;l=s.subtract(new s,g,s.ZERO),s.normalize(l,l);for(var c=Math.PI/n,v=3*Math.PI/2,h=0,f=0;f<e.getComponent(u).edgesSetOfVertex.length;f++){var p=e.getComponent(u).edgesSetOfVertex[f];if(!p.isLayouted){var m=p.endVertex,x=this.getTagIndex(m.getComponent(u).tags[0])*this.nodesLayerRadiusInterval,y=new i,L=new s,M=new s;if(i.fromAxisAngle(y,d,x),s.transformQuat(M,l,y),i.fromAxisAngle(y,l,x),s.transformQuat(L,d,y),p.startVertex.vid!=e.getComponent(u).vid&&(m=p.startVertex),!m.isLayouted){var N=new s,I=new s;h=v+c*this.getElementIndex(p,e.getComponent(u).edgesSetOfVertex),s.multiplyScalar(I,M.clone(),this.tagsNodeRadius);var C=new i;i.fromAxisAngle(C,L,h),s.transformQuat(I,I,C),s.add(N,g.clone(),I),m.node.setWorldPosition(N),m.isLayouted=!0}p.resetPosition(e,m.node),p.isLayouted=!0,this.updateEndVertexAndEdge(m.node)}}}},r.materialReallocated=function(){for(var e,t=2,n=a(this.tagsNodeList);!(e=n()).done;){for(var r,o=e.value,s=a(o.children);!(r=s()).done;){var i=r.value;i.getComponent(u).setMaterialCode(t),i.getComponent(u).changeMaterial(t)}t++}},r.getTagIndex=function(e){for(var t=0;t<this.tagsNodeList.length;t++)if(this.tagsNodeList[t].name==e)return t;return-1},r.getElementIndex=function(e,t){for(var a=0;a<t.length;a++)if(t[a]==e)return a;return-1},r.getTags=function(){for(var e,t=[],n=a(this.tagsNodeList);!(e=n()).done;){var r=e.value;t.push(r.name)}return t},r.clearTags=function(){this.tagsNodeList=[],d.Instance().relationManager.tagDegreeDic=[],d.Instance().relationManager.tagDegreeDicLength=0},n}(g))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/Manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CameraController.ts","./VertexManager.ts","./CanvasManager.ts","./EdgeManager.ts","./RelationManager.ts","./UIManager.ts","./JSONReader.ts","./LayoutManager.ts"],(function(e){var a,n,t,r,i,o,l,g,s,c,u,M,p,d,m,y;return{setters:[function(e){a=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.physics,g=e.Component},function(e){s=e.CameraController},function(e){c=e.VertexManager},function(e){u=e.CanvasManager},function(e){M=e.EdgeManager},function(e){p=e.RelationManager},function(e){d=e.UIManager},function(e){m=e.JSONReader},function(e){y=e.LayoutManager}],execute:function(){var C,f,h,b,v,N,w,B,R,z,I,S,x,J,L,O,U,F,_,D;i._RF.push({},"31012Qpn3FFG7rsva5mwJK4","Manager",void 0);var E=o.ccclass,P=o.property;e("Manager",(C=E("Manager"),f=P(s),h=P(c),b=P(u),v=P(M),N=P(p),w=P(d),B=P(m),R=P(y),C(((D=function(e){function a(){for(var a,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,t(a,"cameraController",S,r(a)),t(a,"vertexManager",x,r(a)),t(a,"canvasManager",J,r(a)),t(a,"edgeManager",L,r(a)),t(a,"relationManager",O,r(a)),t(a,"UIManager",U,r(a)),t(a,"JSONReader",F,r(a)),t(a,"layoutManager",_,r(a)),a}return n(a,e),a.prototype.onLoad=function(){console.log("Manager!"),l.PhysicsSystem.instance.enable=!0,a.instance.cameraController=this.node.getChildByName("CameraController").getComponent(s),a.instance.vertexManager=this.node.getChildByName("Canvas").getChildByName("VertexManager").getComponent(c),a.instance.canvasManager=this.node.getChildByName("CanvasManager").getComponent(u),a.instance.edgeManager=this.node.getChildByName("EdgeManager").getComponent(M),a.instance.relationManager=this.node.getChildByName("RelationManager").getComponent(p),a.instance.UIManager=this.node.getChildByName("Canvas").getChildByName("UIManager").getComponent(d),a.instance.JSONReader=this.node.getChildByName("JSONReader").getComponent(m),a.instance.layoutManager=this.node.getChildByName("LayoutManager").getComponent(y),a.Instance(),console.log("find: ",a.instance.edgeManager)},a.Instance=function(){return a.instance||(a.instance=new a),a.instance},a}(g)).instance=new D,S=a((I=D).prototype,"cameraController",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=a(I.prototype,"vertexManager",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=a(I.prototype,"canvasManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=a(I.prototype,"edgeManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=a(I.prototype,"relationManager",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=a(I.prototype,"UIManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=a(I.prototype,"JSONReader",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=a(I.prototype,"layoutManager",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=I))||z));i._RF.pop()}}}));

System.register("chunks:///_virtual/RelationManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,o,a,u,s,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,u=e._decorator,s=e.CCInteger,g=e.Component}],execute:function(){var c,l,x,h,d,D,f,v,p,I,B;a._RF.push({},"33c2dpXs0dKXYpAcK0MxSe8","RelationManager",void 0);var C=u.ccclass,y=u.property;e("RelationManager",(c=C("RelationManager"),l=y({type:Set}),x=y({type:Set}),h=y(s),d=y(s),c((v=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"vertexIDBox",v,i(t)),n(t,"edgeIDBox",p,i(t)),n(t,"vertexCount",I,i(t)),n(t,"edgeCount",B,i(t)),t.tagDegreeDic={},t.tagDegreeDicLength=0,t}r(t,e);var a=t.prototype;return a.onLoad=function(){this.vertexIDBox=new Set,this.edgeIDBox=new Set},a.setVertexID=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1==t.length){var n=t[0];return this.vertexIDBox.add(n),this.vertexCount++,n}return this.vertexCount++,this.vertexIDBox.add(""+this.vertexCount),""+this.vertexCount},a.removeVertex=function(e){this.vertexIDBox.has(e)&&(this.vertexIDBox.delete(e),this.vertexCount--)},a.removeEdge=function(e){this.edgeIDBox.has(e)&&(this.edgeIDBox.delete(e),this.edgeCount--)},a.setEdgeID=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1==t.length){var n=t[0];return this.edgeIDBox.add(n),this.edgeCount++,n}return""+this.edgeCount},a.resetVertexAndEdgeBox=function(){this.vertexIDBox.clear(),this.edgeIDBox.clear(),this.vertexCount=0,this.edgeCount=0},a.existVertex=function(e){for(var t,r=o(this.vertexIDBox);!(t=r()).done;){if(e==t.value)return!0}return!1},a.existEdge=function(e){for(var t,r=o(this.edgeIDBox);!(t=r()).done;){if(e==t.value)return!0}return!1},a.increaseTagDegree=function(e){e.tags[0]in this.tagDegreeDic||(this.tagDegreeDic[e.tags[0]]="",this.tagDegreeDicLength++),this.tagDegreeDic[e.tags[0]]++},t}(g)).prototype,"vertexIDBox",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Set}}),p=t(f.prototype,"edgeIDBox",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Set}}),I=t(f.prototype,"vertexCount",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(f.prototype,"edgeCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=f))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/resources",["./CameraController.ts","./CanvasManager.ts","./Constant.ts","./Edge.ts","./EdgeManager.ts","./Graphplayer.ts","./HttpRequest.ts","./JSONReader.ts","./LayoutManager.ts","./Manager.ts","./RelationManager.ts","./TableData.ts","./UIManager.ts","./Vertex.ts","./VertexManager.ts","./CustomEventListener.ts","./Dictionary.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/TableData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Edge.ts","./Vertex.ts"],(function(e){var t,n,r,s,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,s=e.Component},function(e){a=e.Edge},function(e){c=e.Vertex}],execute:function(){var i;n._RF.push({},"fd98eQdlN9EZJsD3Pwgn8vC","TableData",void 0);var o=r.ccclass;r.property,e("TableData",o("TableData")(i=function(e){function n(t){var n;return(n=e.call(this)||this).edges=void 0,n.vertices=void 0,n.edges=t._edgesParsedList.map((function(e){return new a(e)})),n.vertices=t._verticesParsedList.map((function(e){return new c(e)})),n}return t(n,e),n}(s))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./HttpRequest.ts"],(function(e){var t,n,r,a,o,i,s,l,h,u,c,d,g,f,B,p,m,I,C,v,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,s=e._decorator,l=e.Button,h=e.EditBox,u=e.Node,c=e.RichText,d=e.Layout,g=e.Prefab,f=e.EventHandler,B=e.resources,p=e.UITransform,m=e.instantiate,I=e.Label,C=e.Component},function(e){v=e.Manager},function(e){b=e.HttpRequest}],execute:function(){var y,O,w,M,E,x,L,N,U,T,D,z,S,P,R,V,A,F,H,k,j,_,J,W,q,G,Q,X,K,Y,Z,$,ee,te,ne,re,ae,oe,ie;i._RF.push({},"4239d/fXHpHE76J8ccSlBwj","UIManager",void 0);var se=s.ccclass,le=s.property;e("UIManager",(y=se("UIManager"),O=le(l),w=le(l),M=le(h),E=le(u),x=le(c),L=le(l),N=le(l),U=le(l),T=le(l),D=le(d),z=le(d),S=le({type:[u]}),P=le(g),R=le(h),V=le(l),A=le(l),F=le(l),H=le(u),y((_=t((j=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).clickEventHandler=new f,r(t,"refreshBtn",_,a(t)),r(t,"createCanvasFromJSONButton",J,a(t)),r(t,"createCanvasFromJSONEditBox",W,a(t)),r(t,"nodeInfoBar",q,a(t)),r(t,"nodeInfoText",G,a(t)),r(t,"createVertexBtn",Q,a(t)),r(t,"createEdgeBtn",X,a(t)),r(t,"deleteVertexBtn",K,a(t)),r(t,"layoutBtn",Y,a(t)),r(t,"dropDownBarLayout",Z,a(t)),r(t,"tagOrderChoiceBar",$,a(t)),r(t,"tagOrderChoiceBtnList",ee,a(t)),r(t,"tagOrderChoiceBtnPrefab",te,a(t)),r(t,"userInputBar",ne,a(t)),r(t,"submitInputButton",re,a(t)),r(t,"hideUIColumnBtn",ae,a(t)),r(t,"showUIColumnBtn",oe,a(t)),r(t,"hideColumnNode",ie,a(t)),t.jsonResponseUrl="http://127.0.0.1:8080",t.vertexIDLabelManager=void 0,t.vertexIDLabelPrefab=void 0,t.BtnWidth=30,t.BtnLength=170,t.timer=0,t.isEnteredTagOrderChoiceBar=!1,t.isNodeInfoEnable=!1,t.nodeInfoPrefix="<color=#ffffff>",t.nodeInfoSuffix="\n</f>",t}n(t,e);var i=t.prototype;return i.onLoad=function(){var e=this;this.nodeInfoBar=this.node.getChildByName("InfoBar"),this.nodeInfoText=this.nodeInfoBar.getChildByName("NodeInfoText").getComponent(c),B.load("Prefab/VertexIDLabel",g,(function(t,n){t?console.error("Failed to load prefab:",t):e.vertexIDLabelPrefab=n}))},i.start=function(){this.hideUIColumnBtn=this.node.getChildByName("HideUIColumnBtn").getComponent(l);var e=new f;e.target=this.node,e.component="UIManager",e.handler="hideUIColumn",this.hideUIColumnBtn.clickEvents.push(e),this.showUIColumnBtn=this.node.getChildByName("ShowUIColumnBtn").getComponent(l);var t=new f;t.target=this.node,t.component="UIManager",t.handler="showUIColumn",this.showUIColumnBtn.clickEvents.push(t),this.hideColumnNode=this.node.getChildByName("HideColumn"),this.userInputBar=this.hideColumnNode.getChildByName("UserInputBar").getComponent(h),this.submitInputButton=this.hideColumnNode.getChildByName("SubmitInputBtn").getComponent(l);var n=new f;n.target=this.node,n.component="UIManager",n.handler="submitUserInput",this.submitInputButton.clickEvents.push(n);var r=new f;this.refreshBtn=this.hideColumnNode.getChildByName("RefreshBtn").getComponent(l),r.target=this.node,r.component="UIManager",r.handler="RefreshCanvas",this.refreshBtn.clickEvents.push(r),this.dropDownBarLayout=this.node.getChildByName("DropDownBar").getComponent(d),this.dropDownBarLayout.node.active=!1;var a=new f;this.layoutBtn=this.hideColumnNode.getChildByName("LayoutGreyBtn").getComponent(l),this.tagOrderChoiceBar=this.layoutBtn.node.getChildByName("TagOrderChoiceBar").getComponent(d),this.tagOrderChoiceBar.node.active=!1,this.layoutBtn.node.on(u.EventType.MOUSE_ENTER,this.chooseLayoutBtn.bind(this,a),this),this.layoutBtn.node.on(u.EventType.MOUSE_LEAVE,this.onLayoutBtnMouseLeave,this),this.tagOrderChoiceBar.node.on(u.EventType.MOUSE_MOVE,this.onMouseEnterTagOrderChoiceBar,this),this.tagOrderChoiceBar.node.on(u.EventType.MOUSE_LEAVE,this.onMouseLeaveTagOrderChoiceBar,this)},i.hideUIColumn=function(e){this.hideColumnNode.active=!1,this.showUIColumnBtn.node.active=!0,this.hideUIColumnBtn.node.active=!1},i.showUIColumn=function(e){this.hideColumnNode.active=!0,this.hideUIColumnBtn.node.active=!0,this.showUIColumnBtn.node.active=!1},i.submitUserInput=function(e){console.log("press submit");var t=this.userInputBar.string;b.send(this.jsonResponseUrl,{nGQL:t}).then((function(e){console.log("res:",e),v.Instance().canvasManager.cleanCanvas(),v.Instance().JSONReader.createdByJSON(e)})).catch((function(e){console.error(e)})),this.userInputBar.string=""},i.RefreshCanvas=function(e){v.Instance().canvasManager.resetCanvas()},i.createVertex=function(e){if(null!=v.Instance().vertexManager.chosenVertex&&null==v.Instance().edgeManager.chosenEdgeNode){var t=v.Instance().vertexManager.createNodeAround(v.Instance().vertexManager.chosenVertex);v.Instance().edgeManager.createEdgeWithStartAndEnd(v.Instance().vertexManager.chosenVertex,t)}else null==v.Instance().vertexManager.chosenVertex&&v.Instance().edgeManager.chosenEdgeNode;this.dropDownBarLayout.node.active=!1},i.changeLayout=function(e,t){var n=t.split(",");this.tagOrderChoiceBar.node.active=!1,this.dropDownBarLayout.node.active=!1,v.Instance().vertexManager.removeLayoutFlags(),v.Instance().edgeManager.removeLayoutFlags(),v.Instance().layoutManager.classifyNodeByTag(),v.Instance().layoutManager.adjustOrderOfTags(n),v.Instance().layoutManager.materialReallocated(),v.Instance().layoutManager.reLayoutByTags()},i.onMouseEnterTagOrderChoiceBar=function(e){this.isEnteredTagOrderChoiceBar=!0},i.onMouseLeaveTagOrderChoiceBar=function(e){this.isEnteredTagOrderChoiceBar=!1,this.tagOrderChoiceBar.node.active=!1},i.setRichInfo=function(e){this.nodeInfoBar.active=!0,this.isNodeInfoEnable||(this.isNodeInfoEnable=!0,this.nodeInfoBar.active=!0),this.nodeInfoText.string=this.nodeInfoPrefix+e+this.nodeInfoSuffix},i.addRichInfo=function(e){this.nodeInfoText.string+=this.nodeInfoPrefix+e+this.nodeInfoSuffix},i.cleanRichInfo=function(){this.nodeInfoText.string=""},i.cleanAndDisableInfoBar=function(){this.nodeInfoText.string="",this.nodeInfoBar.active=!1},i.chooseLayoutBtn=function(){try{if(this.cleanTagOrderChoices(),0==Array.from(v.Instance().vertexManager.vertexTagSet).length)return;var e=Object.keys(v.Instance().relationManager.tagDegreeDic),t=e.length;this.tagOrderChoiceBar.getComponent(p).setContentSize(this.BtnLength,t*this.BtnWidth),this.tagOrderChoiceBtnList=new Array(t);for(var n=0;n<e.length;n++){var r=m(this.tagOrderChoiceBtnPrefab);r.setParent(this.tagOrderChoiceBar.node),r.setPosition(0,n*this.BtnWidth,0),r.getChildByName("Label").getComponent(I).string=e[n];var a=new f;a.target=this.node,a.component="UIManager",a.handler="changeLayout",a.customEventData=this.getPermutationByTagDegree(e[n]).join(","),r.getComponent(l).clickEvents.push(a)}}catch(e){console.log(e)}this.tagOrderChoiceBar.node.active=!0},i.getPermutationByTagDegree=function(e){var t=new Array,n=v.Instance().relationManager.tagDegreeDic,r=Object.keys(v.Instance().relationManager.tagDegreeDic);t.push(e);for(var a=0;a<r.length;a++)if(r[a]!=e)for(var o=0;o<r.length-1;o++){var i=r[a],s=r[o];if(n[i]>n[s]){var l=[r[o],r[a]];r[a]=l[0],r[o]=l[1]}}for(var h=0,u=r;h<u.length;h++){var c=u[h];c!=e&&t.push(c)}return t},i.generatePermutations=function(e,t,n){if(t.length!==e.length)for(var r=0;r<e.length;++r)t.includes(e[r])||(t.push(e[r]),this.generatePermutations(e,t,n),t.pop());else n.push(t.slice())},i.onLayoutBtnMouseLeave=function(e){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.isEnteredTagOrderChoiceBar||(t.tagOrderChoiceBar.node.active=!1)}),.3)},i.cleanTagOrderChoices=function(){if(this.isEnteredTagOrderChoiceBar=!1,null!=this.tagOrderChoiceBar.node.children)for(var e,t=o(this.tagOrderChoiceBar.node.children);!(e=t()).done;){var n=e.value;this.tagOrderChoiceBtnList=new Array,n.destroy()}},i.setVeretxIDLabel=function(e){},t}(C)).prototype,"refreshBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(j.prototype,"createCanvasFromJSONButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(j.prototype,"createCanvasFromJSONEditBox",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(j.prototype,"nodeInfoBar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(j.prototype,"nodeInfoText",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(j.prototype,"createVertexBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(j.prototype,"createEdgeBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(j.prototype,"deleteVertexBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(j.prototype,"layoutBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(j.prototype,"dropDownBarLayout",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(j.prototype,"tagOrderChoiceBar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(j.prototype,"tagOrderChoiceBtnList",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(j.prototype,"tagOrderChoiceBtnPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(j.prototype,"userInputBar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(j.prototype,"submitInputButton",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(j.prototype,"hideUIColumnBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(j.prototype,"showUIColumnBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(j.prototype,"hideColumnNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=j))||k));i._RF.pop()}}}));

System.register("chunks:///_virtual/Vertex.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./Edge.ts"],(function(e){var t,i,r,n,a,o,s,l,c,u,d,p,g,f,h,b,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,s=e._decorator,l=e.CCString,c=e.Label,u=e.CCBoolean,d=e.CCInteger,p=e.MeshRenderer,g=e.Vec4,f=e.Color,h=e.Component},function(e){b=e.Manager},function(e){v=e.Edge}],execute:function(){var y,I,m,C,x,M,w,V,z,D,O,L,N,S,B,P,R,E,U,j,J,_,k;o._RF.push({},"5cc4c++1OBDpqstJy8ADfO5","Vertex",void 0);var A=s.ccclass,F=s.property;e("Vertex",(y=A("Vertex"),I=F(l),m=F([l]),C=F(Object),x=F(l),M=F(Number),w=F(Boolean),V=F({type:[v]}),z=F(c),D=F(u),O=F(d),y((S=t((N=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"vid",S,n(t)),r(t,"tags",B,n(t)),r(t,"properties",P,n(t)),r(t,"type",R,n(t)),r(t,"degree",E,n(t)),r(t,"isLayouted",U,n(t)),r(t,"edgesSetOfVertex",j,n(t)),r(t,"idLabel",J,n(t)),r(t,"isClicked",_,n(t)),r(t,"materialCode",k,n(t)),t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.idLabel=this.node.getChildByName("ID").getComponent(c)},o.setAttribute=function(e){for(var t in""!=this.vid&&b.Instance().relationManager.removeVertex(this.vid),e)this.hasOwnProperty(t)&&(this[t]=e[t]);b.Instance().relationManager.setVertexID(this.vid);for(var i,r=a(this.tags);!(i=r()).done;){var n=i.value;b.Instance().vertexManager.addTag(n)}this.idLabel.string=this.vid},o.setWorldPosition=function(e){this.node.setWorldPosition(e.worldPosition)},o.setVertexId=function(){this.vid=b.Instance().relationManager.setVertexID()},o.getVertexID=function(){return this.vid},o.returnToInitialMaterial=function(){var e=this.getComponent(p).getMaterial(this.materialCode);this.getComponent(p).setMaterial(e,0)},o.setMaterialCode=function(e){this.materialCode=e},o.changeMaterial=function(e){var t=this.getComponent(p).getMaterial(e);this.getComponent(p).setMaterial(t,0);var i=this.getComponent(p).getMaterial(0).passes[0],r=i.getUniform(i.getHandle("albedo"),new g(1,1,0,0)),n=new f(255*r.x,255*r.y,255*r.z,255*r.w);this.idLabel.color=n},o.getMaterialCode=function(){return this.materialCode},o.showVertexDetails=function(){b.Instance().UIManager.nodeInfoBar.active=!0,b.Instance().UIManager.setRichInfo("Vertex vid:"+this.vid),b.Instance().UIManager.addRichInfo("tag:"+this.tags),this.printNestedJSON(this.properties,"properties")},o.addEdgeInfoOnVertex=function(e){this.edgesSetOfVertex.push(e),b.Instance().vertexManager.vertexEdgeDic[this.vid].push(e.getEdgeID())},o.printNestedJSON=function(e,t){for(var i in void 0===t&&(t=""),e){var r=t?t+"."+i:i;"object"==typeof e[i]&&null!==e[i]?this.printNestedJSON(e[i],r):b.Instance().UIManager.addRichInfo(i+": "+e[i])}},o.increaseVertexDegree=function(){this.degree++},t}(h)).prototype,"vid",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=t(N.prototype,"tags",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(N.prototype,"properties",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Object}}),R=t(N.prototype,"type",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"vertex"}}),E=t(N.prototype,"degree",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=t(N.prototype,"isLayouted",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=t(N.prototype,"edgesSetOfVertex",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(N.prototype,"idLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(N.prototype,"isClicked",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(N.prototype,"materialCode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),L=N))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/VertexManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./Vertex.ts"],(function(e){var t,r,n,o,a,i,l,s,d,c,u,h,g,x,v,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,l=e._decorator,s=e.Node,d=e.Prefab,c=e.instantiate,u=e.Vec3,h=e.MeshRenderer,g=e.Quat,x=e.Component},function(e){v=e.Manager},function(e){p=e.Vertex}],execute:function(){var f,m,C,M,N,V,b,y,w,I,P,D;i._RF.push({},"d69130bjgRN65AHuDl1ls3I","VertexManager",void 0);var T=l.ccclass,S=l.property;e("VertexManager",(f=T("VertexManager"),m=S(s),C=S(s),M=S(s),N=S({type:d}),f((y=t((b=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).node=void 0,t.isTransformView=!1,n(t,"rootNode",y,o(t)),n(t,"currentCentralNode",w,o(t)),n(t,"chosenVertex",I,o(t)),n(t,"vertexPrefab",P,o(t)),n(t,"vertexRadius",D,o(t)),t.vertexEdgeDic={},t.vertexMaterialCount=5,t.vertexTagSet=new Set,t}r(t,e);var i=t.prototype;return i.onLoad=function(){this.rootNode=this.node.getChildByName("CentralVertexOfCamera"),this.vertexRadius=30,this.vertexTagSet=new Set},i.start=function(){},i.createStartNode=function(){var e=c(this.vertexPrefab);e.setParent(v.Instance().vertexManager.rootNode),e.getComponent(p).setVertexId();var t=Math.floor(Math.random()*this.vertexMaterialCount)+2,r=new u(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize().clone().multiplyScalar(this.vertexRadius).add(v.Instance().vertexManager.currentCentralNode.worldPosition);return e.worldPosition=r,this.vertexEdgeDic[e.getComponent(p).getVertexID()]=[],e.getComponent(p).setMaterialCode(t),e.getComponent(p).changeMaterial(t),e},i.createNodeAround=function(e){var t=c(this.vertexPrefab);t.getComponent(p).setVertexId();var r=Math.floor(Math.random()*this.vertexMaterialCount)+2,n=new u(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize().clone().multiplyScalar(this.vertexRadius).add(e.worldPosition);return t.worldPosition=n,t.setParent(v.Instance().vertexManager.rootNode),this.vertexEdgeDic[t.getComponent(p).getVertexID()]=[],t.getComponent(p).setMaterialCode(r),t.getComponent(p).changeMaterial(r),t},i.chooseOneNormalVertexToFocus=function(e){this.chosenVertex=e;var t=this.chosenVertex.getComponent(p).getComponent(h).getMaterial(1);this.chosenVertex.getComponent(p).getComponent(h).setMaterial(t,0)},i.returnFocusToNormalVertex=function(){this.chosenVertex&&(this.chosenVertex.getComponent(p).returnToInitialMaterial(),this.chosenVertex=null,v.Instance().UIManager.cleanAndDisableInfoBar())},i.getVertexNodeByVID=function(e){for(var t,r=a(this.rootNode.children);!(t=r()).done;){var n=t.value;if(n.getComponent(p).vid==e)return n}return null},i.addTag=function(e){this.vertexTagSet.has(e)||this.vertexTagSet.add(e)},i.removeLayoutFlags=function(){this.traverseNodesChildren(this.rootNode)},i.traverseNodesChildren=function(e){if(null!=e.getComponent(p)&&(e.getComponent(p).isLayouted=!1),null!=e.children)for(var t,r=a(e.children);!(t=r()).done;){var n=t.value;this.traverseNodesChildren(n)}},i.destroyAllChildren=function(){this.rootNode.children.forEach((function(e){e.destroy()})),this.rootNode.removeAllChildren(),v.Instance().relationManager.resetVertexAndEdgeBox(),this.rootNode.position=new u(0,0,0),this.rootNode.rotation=g.identity(new g),this.currentCentralNode=this.rootNode,this.returnFocusToNormalVertex()},i.initiateOriginalVertex=function(){var e=c(this.vertexPrefab);e.getComponent(p).setVertexId(),e.worldPosition=new u(0,0,0),e.setParent(this.rootNode),this.currentCentralNode=e},t}(x)).prototype,"rootNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(b.prototype,"currentCentralNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(b.prototype,"chosenVertex",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(b.prototype,"vertexPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(b.prototype,"vertexRadius",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=b))||V));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/resources', 'chunks:///_virtual/resources'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
//# sourceMappingURL=index.js.map